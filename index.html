<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <title>Full Calendar Example</title>
    <link href="css/main.css" rel="stylesheet" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link href="css/jquery.datetimepicker.css" rel="stylesheet" />

    <link href='css/fullcalendar.css' rel='stylesheet' />
    <link href="css/fullcalendar.min.css" rel="stylesheet" />
    <link href='css/fullcalendar.print.css' rel='stylesheet' media='print' />
</head>
<body>
    <div class="container">
        <br />
        <!-- Full Calendar -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".fullca" style="margin-left:-14px">Full Calendar</button>
        <div class="modal fade bs-example-modal-lg fullca" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">Full Calendar</div>
                    <div id='calendar'></div>
                </div>
            </div>
        </div>

        <!-- New Service -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".newser">New Service</button>
        <div class="modal fade bs-example-modal-lg newser" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">New Service</div>
                    <div class="row">
                        <div class="col-sm-offset-4 col-sm-4">
                            <form id="localStorageTest" method="get" action="">
                                <div class="form-group">
                                    <label for="validate-text">Name</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" name="validate-text" id="name" placeholder="Name" required>
                                        <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="validate-text">Surname</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" name="validate-text" id="surname" placeholder="Surname" required>
                                        <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="validate-email">Email</label>
                                    <div class="input-group" data-validate="email">
                                        <input type="text" class="form-control" name="validate-email" id="email" placeholder="Email" required>
                                        <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="validate-phone">Phone</label>
                                    <div class="input-group" data-validate="phone">
                                        <input type="text" class="form-control" name="validate-phone" id="phone" placeholder="(533) 555-1234" required>
                                        <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="validate-text">Subject</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" name="validate-text" id="subject" placeholder="Subject" required>
                                        <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="validate-length">Message</label>
                                    <div class="input-group" data-validate="length" data-length="5">
                                        <textarea type="text" class="form-control" name="validate-length" id="message" placeholder="Message" required></textarea>
                                        <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="validate-optional">Start Date</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" name="validate-optional" value="" id="datetimepicker" style="width: 280px;height: 40px;border-radius: 5px;" />
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary col-xs-12" disabled>Submit</button>
                                <br /><br /><br /><br />
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="panel panel-primary filterable">
                <div class="panel-heading">
                    <h3 class="panel-title">Service List</h3>
                    <div class="pull-right">
                        <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span> Filter</button>
                    </div>
                </div>
                <table class="table">
                    <thead>
                        <tr class="filters">
                            <th><input type="text" class="form-control" placeholder="Name" disabled></th>
                            <th><input type="text" class="form-control" placeholder="Surname" disabled></th>
                            <th><input type="text" class="form-control" placeholder="Mail" disabled></th>
                            <th><input type="text" class="form-control" placeholder="Phone" disabled></th>
                            <th><input type="text" class="form-control" placeholder="Subject" disabled></th>
                            <th><input type="text" class="form-control" placeholder="Message" disabled></th>
                            <th><input type="text" class="form-control" placeholder="Start Date" disabled></th>
                        </tr>
                    </thead>
                    <tbody id="mytable"></tbody>
                </table>
            </div>
        </div>

    </div>
    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="js/jquery.datetimepicker.js"></script>
    <script src="js/input_text.js"></script>
    <script src="js/table.js"></script>
    <script src='js/moment.min.js'></script>
    <script src='js/fullcalendar.min.js'></script>
    <script>
        $('#datetimepicker').datetimepicker({
            dayOfWeekStart: 4,
            //lang: 'en',
            //disabledDates: ['2015/01/01', '2015/01/02', '2015/01/02'],
            //startDate: '2015/01/01'
            timepicker: false,
            format: 'Y-m-d'
        });
        $('#datetimepicker').datetimepicker({ value: '2015-01-01', step: 1 });

        $('.some_class').datetimepicker();

        $('#default_datetimepicker').datetimepicker({
            formatDate: 'd.m.Y',
            defaultDate: '01.01.2015',
            timepickerScrollbar: false
        });

        $('#localStorageTest').submit(function () {
            var itemlist = [];
            var storedData = localStorage.getItem("mycalendar");
            if (storedData) {
                itemlist = JSON.parse(storedData);
            }

            itemlist.push({
                name: document.getElementById('name').value,
                surname: document.getElementById('surname').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                subject: document.getElementById('subject').value,
                message: document.getElementById('message').value,
                startdate: document.getElementById('datetimepicker').value
            });
            localStorage.setItem("mycalendar", JSON.stringify(itemlist));

        });

        var items = [];
        var Datas = localStorage.getItem("mycalendar");
        if (Datas) {
            items = JSON.parse(Datas);
            for (var i in items) {
                $('#mytable').append("<tr> <td>" + items[i].name + "</td><td>" + items[i].surname + "</td><td>" + items[i].email + "</td><td>" + items[i].phone + "</td> <td>" + items[i].subject + "</td> <td>" + items[i].message + "</td> <td>" + items[i].startdate + "</td> </tr>");

            }
            var calenderdata = [];
            for (var i in items) {
                calenderdata.push({ title: items[i].name, start: items[i].startdate })
            }

            $('#calendar').fullCalendar({
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'month,basicWeek,basicDay'
                },
                defaultDate: '2015-01-11',
                editable: true,
                eventLimit: true, // allow "more" link when too many events
                events: calenderdata
            });

        }





    </script>

</body>
</html>
